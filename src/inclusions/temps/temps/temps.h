#ifndef TEMPS_TEMPS_TEMPS_H
#define TEMPS_TEMPS_TEMPS_H

typedef void (*FonctionRappel) ();

typedef struct Echeance {
	uint64 dateEcheance;
	FonctionRappel fonction;
	struct Echeance* echeanceSuivante;
} Echeance;

typedef struct EtatTemps {
	uint32 increments; /* 1..10^9 Nombre de nanosecondes entre chaque 'tic' d'horloge. */
	
	uint32 nanosec; /* nanosecondes depuis la dernière seconde entière. */
	uint64 sec; /* secondes depuis le 01/01/1970 à 00h00 . */
	uint64 delta; /* Décalage connu à rattrapper / ralentir progressivement . */
	uint64 etapesDelta; /* Rattrapper le décalage en combien de nanosecondes ? */
	
	Echeance* listeEcheancesDate; /* Tiennent compte immédiatement (ou pas ?) de delta */
	Echeance* listeEcheancesDelai; /* Ne tiennent pas compte de delta */
	
	uint64 debug; /* DEBUG */
} EtatTemps;

#endif
