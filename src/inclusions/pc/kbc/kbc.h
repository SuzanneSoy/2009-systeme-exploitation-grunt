#ifndef PC_KBC_KBC_H
#define PC_KBC_KBC_H

/* TODO : VÃ©rifier ces informations dans la doc Intel. */

#define LIGNE_IRQ_CLAVIER 1
#define LIGNE_IRQ_SOURIS 12

#define PORT_KBC_DONNEES 0x60
#define PORT_KBC_SCANCODE PORT_KBC_DONNEES
#define PORT_KBC_SOURIS PORT_KBC_DONNEES
#define PORT_KBC_COMMANDE_SOURIS PORT_KBC_DONNEES
#define PORT_KBC_PPI 0x61
#define PORT_KBC_COMMANDE 0x64

#define KBC_DEMMANDE_ECRITURE_CLAVIER 0xd1
#define KBC_DEMMANDE_ECRITURE_SOURIS 0xd4
#define KBC_DEMMANDE_LECTURE_COMPAQ_STATUS_BYTE 0x20
#define KBC_DEMMANDE_ECRITURE_COMPAQ_STATUS_BYTE 0x60
#define KBC_RESET_CPU 0xfe

typedef void (*GestionnaireClavier) (uint8 scancode);

typedef struct EtatKbc {
	GestionnaireClavier gestionnaireClavier;
} EtatKbc;

void attenteKbc();
void attenteLectureKbc();
void activerClavier();
void desactiverClavier();
void resetCpu();
void definirGestionnaireClavier(GestionnaireClavier gestionnaireClavier);

#endif
