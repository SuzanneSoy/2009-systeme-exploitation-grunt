.section .text

.irp ligne,0,1,2,3,4,5,6,7

.globl envoyerFinInterruptionMaitre\ligne
envoyerFinInterruptionMaitre\ligne:

mov $0x20, %al
outb %al, $0x20

call *(tableGestionnairesRequeteInterruption + 4*\ligne)

ret

.endr


.irp ligne,0,1,2,3,4,5,6,7

.globl envoyerFinInterruptionEsclave\ligne
envoyerFinInterruptionEsclave\ligne:

mov $0x20, %al
outb %al, $0xa0
outb %al, $0x20

call *(tableGestionnairesRequeteInterruption + 4*(8 + \ligne))

ret

.endr


.section .data

.globl tableFonctionsEnvoiFinInterruption
tableFonctionsEnvoiFinInterruption:
.irp ligne,0,1,2,3,4,5,6,7
	.long (envoyerFinInterruptionMaitre\ligne)
.endr
.irp ligne,0,1,2,3,4,5,6,7
	.long (envoyerFinInterruptionEsclave\ligne)
.endr


.globl tableGestionnairesRequeteInterruption
tableGestionnairesRequeteInterruption:
.irp ligne,0,1,2,3,4,5,6,7
	.long (gestionnaireRequeteInterruptionVide)
.endr
.irp ligne,0,1,2,3,4,5,6,7
	.long (gestionnaireRequeteInterruptionVide)
.endr
